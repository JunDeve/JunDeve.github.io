<!DOCTYPE html>
<html>

<head>
    <title>JunDeve</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="main-title">
        <h1>JunDeve</h1>
    </div>
    <div class="background-overlay">
        <!-- <div class="alert-message">
            <p>" 해당 글자가 보이신다면 지원하지않는 해상도 입니다. "</p>
        </div> -->
        <div class="intro">
            <div class="title">
                <h1>JunDeve</h1>
            </div>
            <p class="greeting">
                <span class="animated-text">Hello! Thank you for visiting my portfolio.</span><br>
                <span class="animated-text">안녕하세요! 저의 포트폴리오에 방문해주셔서 감사합니다.</span>
                <span class="animated-text">화면이 잘리거나 글자가 작다면 가로모드를 이용해주십시오.</span>
            </p>
        </div>
        <div class="main-content" id="main-content" style="display: none;">
            <!-- 여기에 메인불러옴 -->
        </div>
        <footer class="click-footer">
            <a href="#" class="learn-more">"LEARN MORE CLICK! (클릭!)"</a>
        </footer>
    </div>
</body>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const learnMoreButton = document.querySelector('.learn-more');
        const intro = document.querySelector('.intro');
        const backgroundOverlay = document.querySelector('.background-overlay');
        const clickfooter = document.querySelector('.click-footer');
        const maintitle = document.querySelector('.main-title');

        const adjustContentScale = () => {
            const mainContent = document.getElementById('main-content');
            if (window.innerWidth < 1024) {
                mainContent.classList.add('is-scaled');
            } else {
                mainContent.classList.remove('is-scaled');
            }
        };

        window.addEventListener('resize', adjustContentScale);

        learnMoreButton.addEventListener('click', () => {
            intro.style.opacity = 0;
            clickfooter.style.opacity = 0;
            backgroundOverlay.style.height = '100%';
            backgroundOverlay.style.backgroundColor = '#333';
            backgroundOverlay.style.marginTop = '80px';
            maintitle.style.opacity = 1;

            fetch('JunDeveMain.html')
                .then(response => response.text())
                .then(data => {
                    const mainContent = document.getElementById('main-content');
                    mainContent.innerHTML = data;
                    const navButton = document.querySelector('.nav-button');
                    if (navButton) {
                        navButton.classList.add('animate');
                    }
                    mainContent.style.display = 'block';

                    const contentBox = document.querySelector('.content-box');
                    if (contentBox) {
                        setTimeout(() => {
                            contentBox.style.opacity = 1;
                        }, 1000);
                    }

                    // 콘텐츠를 불러온 후에도 크기 조절 함수 실행
                    adjustContentScale();
                    
                    const goButton = document.querySelector('.GO-Button');
                    const homeContent = document.querySelector('.home-content');
                    const skill = document.querySelector('.skill');
                    const project = document.querySelector('.project');
                    const education = document.querySelector('.education');
                    const contact = document.querySelector('.contact');

                    if (goButton && homeContent) {
                        goButton.addEventListener('click', () => {
                            homeContent.scrollIntoView({ behavior: 'smooth' });
                        });
                    }

                    const homeBtn = mainContent.querySelector('.home-btn');
                    const introductionBtn = mainContent.querySelector('.introduction-btn');
                    const skillBtn = mainContent.querySelector('.skill-btn');
                    const projectBtn = mainContent.querySelector('.project-btn');
                    const educationBtn = mainContent.querySelector('.education-btn');
                    const contactBtn = mainContent.querySelector('.contact-btn');

                    if (homeBtn) {
                        homeBtn.addEventListener('click', () => {
                            const alertDiv = document.createElement('div');
                            alertDiv.classList.add('alert');
                            alertDiv.style.position = 'fixed';
                            alertDiv.style.top = '50%';
                            alertDiv.style.left = '50%';
                            alertDiv.style.transform = 'translate(-50%, -50%)';
                            alertDiv.style.color = '#fff';
                            alertDiv.style.backgroundColor = '#222';
                            alertDiv.style.padding = '20px';
                            alertDiv.style.borderRadius = '5px';
                            alertDiv.style.boxShadow = '0 2px 4px rgba(0, 0, 0, 0.2)';
                            document.body.appendChild(alertDiv);
                            alertDiv.textContent = '홈으로 이동합니다 3...';

                            let count = 2;
                            const countdown = setInterval(() => {
                                alertDiv.textContent = `홈으로 이동합니다 ${count}...`;
                                count--;
                                if (count === 0) {
                                    setTimeout(() => {
                                        clearInterval(countdown);
                                        location.reload();
                                    }, 1000);
                                }
                            }, 1000);
                        });
                    }

                    if (introductionBtn && homeContent) {
                        introductionBtn.addEventListener('click', () => {
                            homeContent.scrollIntoView({ behavior: 'smooth' });
                        });
                    }

                    if (skillBtn && skill) {
                        skillBtn.addEventListener('click', () => {
                            skill.scrollIntoView({ behavior: 'smooth' });
                        });
                    }

                    if (projectBtn && project) {
                        projectBtn.addEventListener('click', () => {
                            project.scrollIntoView({ behavior: 'smooth' });
                        });
                    }

                    if (educationBtn && education) {
                        educationBtn.addEventListener('click', () => {
                            education.scrollIntoView({ behavior: 'smooth' });
                        });
                    }

                    if (contactBtn && contact) {
                        contactBtn.addEventListener('click', () => {
                            contact.scrollIntoView({ behavior: 'smooth' });
                        });
                    }
                });
        });

        // 페이지 로드 시 크기 조절 함수 바로 실행
        adjustContentScale();
    });

    function checkDevice() {
        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            var alertMessage = document.querySelector('.alert-message');
            if (alertMessage) {
                alertMessage.style.display = 'block';
            }
        }
    }
    window.onload = checkDevice;
</script>

</html>